import{r as n,b as f,c as y,j as t,L as k,a as N}from"./index-DTjLigLo.js";const g="_postDetail_nd5uv_2",B="_postBody_nd5uv_17",L="_backLink_nd5uv_24",S="_error_nd5uv_35",b="_divider_nd5uv_42",D="_commentsSection_nd5uv_48",w="_comment_nd5uv_48",E="_commentAuthor_nd5uv_66",P="_commentBody_nd5uv_71",s={postDetail:g,postBody:B,backLink:L,error:S,divider:b,commentsSection:D,comment:w,commentAuthor:E,commentBody:P};function C(){const[i,l]=n.useState(null),[c,h]=n.useState(null),[u,_]=n.useState(!0),[m,p]=n.useState(""),{postId:a}=f(),d=y();return n.useEffect(()=>{const e=fetch(`https://jsonplaceholder.typicode.com/posts/${a}`),j=fetch(`https://jsonplaceholder.typicode.com/posts/${a}/comments`);Promise.all([e,j]).then(async([o,r])=>{if(!o.ok){if(o.status===404){d("/posts",{replace:!0});return}throw new Error(o.message)}if(!r.ok)throw new Error(r.message);const v=await o.json(),x=await r.json();l(v),h(x)}).catch(o=>{p(o.message)}).finally(()=>_(!1))},[a,d]),u?t.jsx(k,{}):m?t.jsx("div",{className:s.error,children:m}):t.jsxs("div",{className:s.postDetail,children:[t.jsx("h1",{children:i.title}),t.jsx("p",{className:s.postBody,children:i.body}),t.jsx(N,{to:"/posts",className:s.backLink,children:"â† Back to all posts"}),t.jsx("hr",{className:s.divider}),t.jsxs("div",{className:s.commentsSection,children:[t.jsxs("h2",{children:["Comments (",c.length,")"]}),c.length>0?t.jsx("ul",{children:c.map(e=>t.jsxs("li",{className:s.comment,children:[t.jsxs("p",{className:s.commentAuthor,children:[e.name," (",e.email,")"]}),t.jsx("p",{className:s.commentBody,children:e.body})]},e.id))}):t.jsx("p",{children:"No comments yet."})]})]})}export{C as default};
